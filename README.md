<html>
<body>
<div><h1>WhatsApp Chatbot com Integra√ß√£o de API usando Flowise - Documenta√ß√£o</h1></div>
<div><p>Este √© um exemplo de como criar um chatbot no WhatsApp usando a biblioteca <code>@open-wa/wa-automate</code> e integr√°-lo com uma API externa usando chamadas CURL, com o aux√≠lio da biblioteca Flowise. O chatbot receber√° mensagens dos usu√°rios, enviar√° uma pergunta para a API e responder√° com a resposta obtida.</p></div>
<div><h2>Pr√©-requisitos</h2></div>
<div><p>Antes de come√ßar, certifique-se de ter as seguintes depend√™ncias instaladas em seu ambiente de desenvolvimento:</p></div>
<div><ul><li>Node.js (vers√£o 14 ou superior)</li><li>npm (gerenciador de pacotes do Node.js)</li></ul></div>
<div><h2>Instala√ß√£o</h2></div>
<div><p>Siga as etapas abaixo para configurar o projeto:</p></div>
<div><ol><li>Clone o reposit√≥rio do chatbot WhatsApp com integra√ß√£o Flowise para o seu ambiente de desenvolvimento:</li></ol></div>
<div><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><code class="!whitespace-pre hljs language-bash">git <span class="hljs-built_in">clone</span> https://github.com/Mpiffer/whatsapp-flowise.git
</code></div></div></pre></div>
<div><ol start="2"><li>Acesse o diret√≥rio do projeto:</li></ol></div>
<div><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>bash</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto print:overflow-visible"><code class="!whitespace-pre hljs language-bash"><span class="hljs-built_in">cd</span> whatsapp-flowise
</code></div></div></pre></div>
<div><ol start="3"><li>Instale as depend√™ncias do projeto usando o npm:</li></ol></div>
<div><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>bash</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto print:overflow-visible"><code class="!whitespace-pre hljs language-bash">npm install
</code></div></div></pre></div>
<div><h2>Configura√ß√£o</h2></div>
<div><p>Antes de executar o chatbot, voc√™ precisa configurar algumas informa√ß√µes:</p></div>
<div><ol><li><p>Abra o arquivo <code>index.js</code> no diret√≥rio raiz do projeto.</p></li><li><p>No bloco de c√≥digo <code>wa.create()</code>, ajuste as configura√ß√µes de acordo com suas prefer√™ncias. Aqui est√£o algumas op√ß√µes importantes:</p></li></ol></div>
<div><ul><li><code>sessionId</code>: Identificador √∫nico para sua sess√£o do WhatsApp.</li><li><code>multiDevice</code>: Defina como <code>true</code> se desejar suportar v√°rios dispositivos conectados √† mesma conta do WhatsApp.</li><li><code>authTimeout</code>: Tempo m√°ximo de espera (em segundos) para se conectar ao dispositivo de conta do WhatsApp.</li><li><code>blockCrashLogs</code>: Define se os logs de falhas devem ser bloqueados ou n√£o.</li><li><code>disableSpins</code>: Define se os spins (c√≠rculos de carregamento) devem ser desativados ou n√£o.</li><li><code>headless</code>: Define se o navegador ser√° executado no modo headless (sem interface gr√°fica).</li><li><code>hostNotificationLang</code>: Define o idioma das notifica√ß√µes do host (exemplo: 'PT_BR' para portugu√™s do Brasil).</li><li><code>logConsole</code>: Define se os logs do console ser√£o exibidos ou n√£o.</li><li><code>popup</code>: Define se os pop-ups ser√£o exibidos durante a execu√ß√£o.</li><li><code>qrTimeout</code>: Tempo m√°ximo de espera (em segundos) para escanear o c√≥digo QR. Defina como 0 para esperar indefinidamente.</li></ul></div>
<div><ol start="3"><li><p>No bloco de c√≥digo <code>client.onMessage()</code>, voc√™ pode personalizar as respostas do chatbot com base nas mensagens recebidas. O exemplo atual responde apenas com "üëã Ol√°!" quando recebe a mensagem "Hi". Voc√™ pode adicionar l√≥gica adicional para processar diferentes mensagens e chamar a API conforme necess√°rio.</p></li><li><p>No bloco de c√≥digo <code>axios.post()</code>, ajuste a URL da API, a pergunta e o cabe√ßalho de autoriza√ß√£o. Substitua <code>http://192.168.15.8:3000/api/v1/prediction/2f3522c3-1e9f-4f2e-a411-f34303e98cd2</code> pela URL correta da sua API. Certifique-se de fornecer a pergunta no formato adequado para a API.</p></li></ol></div>
<div><h2>Execu√ß√£o</h2></div>
<div><p>Ap√≥s configurar o projeto, voc√™ pode executar o chatbot com o seguinte comando:</p></div>
<div><pre><div class="bg-black rounded-md mb-4"><div class="flex items-center relative text-gray-200 bg-gray-800 px-4 py-2 text-xs font-sans justify-between rounded-t-md"><span>bash</span><button class="flex ml-auto gap-2"><svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" class="h-4 w-4" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"></path><rect x="8" y="2" width="8" height="4" rx="1" ry="1"></rect></svg>Copy code</button></div><div class="p-4 overflow-y-auto print:overflow-visible"><code class="!whitespace-pre hljs language-bash">node index.js
</code></div></div></pre></div>
<div><p>Lembre-se de fornecer suas pr√≥prias configura√ß√µes e adaptar o c√≥digo conforme necess√°rio para atender aos requisitos espec√≠ficos do seu projeto.</p></div>
</body>
</html>
